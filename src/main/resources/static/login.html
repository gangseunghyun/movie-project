<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>로그인 테스트</title>
</head>
<body>
    <form id="loginForm">
        <div>
            <label>아이디: <input type="text" name="username" id="username"></label>
        </div>
        <div>
            <label>비밀번호: <input type="password" name="password" id="password"></label>
        </div>
        <button type="submit">로그인</button>
    </form>
    <div id="result" style="color:red;"></div>
    <script>
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            fetch('/api/login', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({
                    username: document.getElementById('username').value,
                    password: document.getElementById('password').value
                })
            })
            .then(res => res.json())
            .then(data => {
                if(data.success) {
                    document.getElementById('result').style.color = 'green';
                    document.getElementById('result').textContent = '로그인 성공!';
                } else {
                    document.getElementById('result').style.color = 'red';
                    document.getElementById('result').textContent = data.message || '로그인 실패';
                }
            })
            .catch(() => {
                document.getElementById('result').style.color = 'red';
                document.getElementById('result').textContent = '서버 오류';
            });
        });
    </script>
</body>
</html> 